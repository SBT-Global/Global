function show_info_popup(e){var r=jQuery("#info_popup-wrapper");r.length||jQuery("body").prepend('<div id="info_popup-wrapper"><ul id="info_popup-wrapper-page"><li><div class="info_popup"></div></li></ul></div>'),jQuery(".info_popup").text(e),jQuery("#info_popup-wrapper").fadeIn(200),window.setTimeout(function(){jQuery("#info_popup-wrapper").fadeOut(400)},1e3)}var app_cardealer_app_front=null;jQuery(document).ready(function(){app_cardealer_app_front=new THEMEMAKERS_APP_CARDEALER_FRONT,app_cardealer_app_front.init(),jQuery("#add_car_video").life("click",function(){var e=jQuery("ul#cars_videos li:first-child").html();return jQuery("ul#cars_videos").append("<li>"+e+"</li>"),jQuery("ul#cars_videos li:last-child input[type=text]").val(""),!1}),jQuery(".remove_car_video").life("click",function(){return jQuery("#cars_videos").find("li").length>1&&jQuery(this).parents("li").hide(200,function(){jQuery(this).remove()}),!1})});var THEMEMAKERS_APP_CARDEALER_FRONT=function(){var e={init:function(){function r(e,r){var i=jQuery("#current_user_id").data("id"),t=jQuery("#current_user_id").data("dealer"),s=jQuery("#current_user_id").data("template"),c=jQuery("#current_user_id").data("posts-per-page"),n={action:"app_cardealer_filtered_cars",user:i,params:e,page:r,dealer_page:t,template_user:s,posts_per_page:c};jQuery.post(ajaxurl,n,function(e){e=jQuery.parseJSON(e);var r=jQuery("#change-items"),i=jQuery(".wp-pagenavi");if(i.empty(),r.empty(),e){if(e.items)r.append(e.items),a();else{var t=jQuery('<p class="notice">There\'s no cars by this filter</p>');r.append(t)}if(e.pagination){i.append(e.pagination);var s=jQuery(".wp-pagenavi .page-numbers");s.addClass("js-page-numbers"),s.each(function(){var e=jQuery(this),r=e.attr("href");void 0!=r&&(r=r.split("paged="),e.attr("data-paged",r[1]))})}}else{var t=jQuery('<p class="notice">Please set one or more car features for filtering</p>');r.append(t)}})}function a(){jQuery(".single-image, .image-post-slider-cars-listing").each(function(e,r){jQuery(r).hasClass("picture")&&jQuery(this).append('<span class="picture-icon"></span>'),jQuery(r).hasClass("video")&&jQuery(this).append('<span class="video-icon"></span>')})}jQuery("#set_dealer_loan_rate").click(function(){var e=jQuery(this).prev("input"),r={action:"app_cardealer_set_dealer_loan_rate",rate:e.val()};return jQuery.post(ajaxurl,r,function(r){0==r&&(r=""),e.val(r),show_info_popup(lang_loan_rate_updated)}),!1}),jQuery(".js_delete_user_car").click(function(){if(confirm(lang_sure_post_delete)){var e=jQuery(this).data("post-id"),r={action:"app_cardealer_delete_car",post_id:e};jQuery.post(ajaxurl,r,function(r){r=jQuery.parseJSON(r),null!=r?alert(r.error):jQuery("#post-"+e).hide(200,function(){jQuery(this).remove()})})}return!1}),jQuery(".js_sold_user_car").life("click",function(){var e=jQuery(this).data("post-id"),r=0;jQuery(this).is(":checked")&&(r=1);var a=this;jQuery(a).val(Math.abs(r));var i={action:"app_cardealer_sold_car",post_id:e,car_is_sold:Math.abs(r)};return jQuery.post(ajaxurl,i,function(a){return a=jQuery.parseJSON(a),a&&a.error&&""!=a.error?(alert(a.error),!1):void(1!=Math.abs(r)?(jQuery("#post-"+e+" a.single-image").removeClass("car_is_sold"),jQuery("#post-"+e+" .js_feature_user_car").removeAttr("disabled")):(jQuery("#post-"+e+" a.single-image").addClass("car_is_sold"),jQuery("#post-"+e+" .js_feature_user_car").removeAttr("checked").attr("disabled","disabled")))}),!0}),jQuery(".js_draft_user_car").life("click",function(){var e=jQuery(this).data("post-id"),r=0;jQuery(this).is(":checked")?(r=1,jQuery("#post-"+e).addClass("status-draft")):jQuery("#post-"+e).removeClass("status-draft");var a=this;jQuery(a).val(Math.abs(r));var i={action:"app_cardealer_draft_car",post_id:e,car_is_draft:Math.abs(r)};return jQuery.post(ajaxurl,i,function(e){return e=jQuery.parseJSON(e),null!=e?(jQuery(a).prop("checked","checked"),alert(e.error),!1):void 0}),!0}),jQuery(".js_feature_user_car").life("click",function(){var e=jQuery(this).is(":checked"),r=jQuery(this).data("can-set-featured");if(!r)return jQuery("a#featured_user_car_message_show").fancybox({hideOnContentClick:!0}).trigger("click"),!1;if(e){var a=confirm(lang_sure_featured);if(!a)return!1}var i=jQuery(this).data("post-id"),t=this,s={action:"app_cardealer_set_user_car_featured",value:e?1:0,post_id:i};jQuery.post(ajaxurl,s,function(e){if(e=e,current_user_can||jQuery(t).attr("disabled","disabled"),"1"==e)jQuery("#post-"+i+" a.single-image").addClass("car_is_featured"),show_info_popup(lang_cars7);else{if("0"==e)return jQuery("#post-"+i+" a.single-image").removeClass("car_is_featured"),show_info_popup(lang_cars10),!1;if("error-1"==e)return jQuery("#post-"+i+" a.single-image").removeClass("car_is_featured"),jQuery(t).prop("checked",!1),jQuery("a#inline").fancybox({hideOnContentClick:!0}).trigger("click"),!1}})}),a(),jQuery(".js_filt_cars").click(function(){var e=jQuery(".js_filt_cars"),a=[],i=jQuery(this);"filt_all_cars"==i.attr("id")?(e.each(function(){var e=jQuery(this);e.val(0),e.prop("checked",!1)}),i.prop("checked",!0),i.val(1)):jQuery("#filt_all_cars").prop("checked",!1).val(0),e.each(function(){var e=jQuery(this);e.is(":checked")&&a.push(e.attr("id"))}),r(a,1)}),jQuery(".convert").life("click",function(){var e=jQuery(this),r=jQuery(".converter");if(r.length&&r.remove(),-1!=e.attr("class").indexOf("active"))e.removeClass("active"),jQuery("body").off("click.convert");else{jQuery("body").on("click.convert",function(r){var a=jQuery(r.target);a.hasClass("convert")||a.hasClass("converter")||a.parents().hasClass("converter")||(e.removeClass("active"),jQuery(".converter").remove(),jQuery("body").off("click.convert"))}),e.addClass("active");var a=jQuery('<div class="converter"><div id="ballsWaveG"><div id="ballsWaveG_1" class="ballsWaveG"></div><div id="ballsWaveG_2" class="ballsWaveG"></div><div id="ballsWaveG_3" class="ballsWaveG"></div><div id="ballsWaveG_4" class="ballsWaveG"></div><div id="ballsWaveG_5" class="ballsWaveG"></div><div id="ballsWaveG_6" class="ballsWaveG"></div><div id="ballsWaveG_7" class="ballsWaveG"></div><div id="ballsWaveG_8" class="ballsWaveG"></div></div></div>');a.hide(),e.parent().append(a),a.fadeIn(300);var i=e.data("convert"),t="",s="",c="",n={action:"app_cardealer_convert_curency",from:i};jQuery.post(ajaxurl,n,function(r){if(r=jQuery.parseJSON(r),jQuery(r).each(function(e,r){jQuery.each(r,function(e,r){t+=r+""+e.toUpperCase()+"; ";var a="",i="",n=e;switch(e){case"usd":a="&#36";break;case"eur":a="&#8364";break;case"gbp":a="&#163";break;case"chf":a="&#67;&#72;&#70;";break;case"aud":a="&#36";break;case"cad":a="&#36";break;case"sek":a="&#107;&#114";break;case"czk":a="&#75;&#269";break;case"nok":a="&#107;&#114";break;case"rub":a="&#1088;&#1091;&#1073";break;case"jpy":a="&#165;";break;default:i=e,n="no_icon"}"This application is temporarily over its serving quota"==r&&(c=r),s+='<li data-currency="'+r+'"><span class="'+n+'">'+i+"</span><div>"+a+"</div></li>"})}),c)var a=jQuery("<h6>"+lang_currency_converter+"</h6><p>"+c+"</p>");else var a=jQuery("<h6>"+lang_currency_converter+'</h6><input class="value_holder" value="" type="text" readonly><ul>'+s+"</ul>");var i=jQuery(".converter");i.empty(),a.hide(),e.parent().find(".converter").append(a),a.fadeIn(500),jQuery(".converter li:first-child").addClass("active");var n=a.find("li").first().data("currency"),u=jQuery(".value_holder");u.val(n)})}}),jQuery(".converter li").life("click",function(){var e=jQuery(this),r=e.data("currency"),a=e.parent().parent();a.find("input").val(r),a.find("li").removeClass("active"),e.addClass("active")}),jQuery(".js-page-numbers").life("click",function(){var e=jQuery(this),a=[],i=jQuery(".js_filt_cars"),t=e.data("paged");return i.each(function(){var e=jQuery(this);e.is(":checked")&&a.push(e.attr("id"))}),r(a,t),!1}),jQuery(".js_car_compare").life("click",function(){var r=jQuery(this).data("post-id");jQuery(this).is(":checked")?(show_info_popup(lang_cars1),e.operate_compare_list(r,!0,"car_compare_list")):(show_info_popup(lang_cars2),e.operate_compare_list(r,!1,"car_compare_list"))}),jQuery(".js_car_watch_list").life("click",function(){if(0==can_add_to_watch_list)return show_info_popup(lang_cars6),void jQuery(this).removeAttr("checked");var r=jQuery(this).data("post-id");if(jQuery(this).is(":checked"))show_info_popup(lang_cars3),e.operate_compare_list(r,!0,"car_watch_list");else{show_info_popup(lang_cars4),e.operate_compare_list(r,!1,"car_watch_list");try{1==is_watch_list&&jQuery(this).parents("article").animate({opacity:0},300,function(){jQuery(this).animate({width:"hide",height:"hide",padding:"hide",marginRight:0},300,function(){jQuery(this).remove()})})}catch(a){}}}),jQuery(".js_remove_car_from_compare_list").click(function(){var r=jQuery(this).data("post-id");e.operate_compare_list(r,!1,"car_compare_list")})},operate_compare_list:function(r,a,i){var t=jQuery.cars_cookie(i);void 0==t&&(t=[]);var s=[];t.length>0&&(s=t.split(","),s=jQuery.grep(s,function(e){return parseInt(e,10)}),s=e.removeDuplicates(s)),a?s.push(r):s=e.removeByValue(s,r),t=e.removeDuplicates(s),0==t.length&&(t=""),jQuery.cars_cookie(i,t,{expires:365,path:"/"})},removeDuplicates:function(e){var r=[];return e.length>0&&jQuery.each(e,function(e,a){-1==jQuery.inArray(a,r)&&r.push(a)}),r},removeByValue:function(e,r){var a=[];return e.length>0&&jQuery.each(e,function(e,i){i!=r&&a.push(i)}),a}};return e};jQuery.cars_cookie=function(e,r,a){if("undefined"==typeof r){var i=null;if(document.cookie&&""!=document.cookie)for(var t=document.cookie.split(";"),s=0;s<t.length;s++){var c=jQuery.trim(t[s]);if(c.substring(0,e.length+1)==e+"="){i=decodeURIComponent(c.substring(e.length+1));break}}return i}a=a||{},null===r&&(r="",a.expires=-1);var n="",u=new Date;u.setTime(u.getTime()+2592e6),n="; expires="+u.toUTCString();var o=a.path?"; path="+a.path:"",l=a.domain?"; domain="+a.domain:"",p=a.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(r),n,o,l,p].join("")};